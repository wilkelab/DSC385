{
  "hash": "a239995bef1cb4c7d666896f5b54dad3",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Color spaces and color-vision deficiency\"\nauthor: \"Claus O. Wilke\"\ndate: last-modified\nformat: \n  revealjs:\n    theme:\n      - default\n      - Wilke-theme.scss\n    auto-stretch: false\n    chalkboard: true\nexecute:\n  fig-format: svg\n  fig-asp: 0.618\n  fig-width: 5.5\n---\n\n\n\n\n\n\n# How does a computer represent color?\n\n## The RGB color space\n\n<br>\n\n:::: {.columns .small-font}\n\n::: {.column width=\"40%\"}\nred R (0-255):<br>&emsp;&emsp;amount of red light\n\ngreen G (0-255):<br>&emsp;&emsp;amount of green light\n\nblue B (0-255):<br>&emsp;&emsp;amount of blue light\n:::\n\n::: {.fragment .column width=\"60%\"}\n<table>\n  <thead>\n    <tr class=\"header\">\n      <th>R</th> <th>G</th> <th>B</th> <th>hex code</th> <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class=\"odd\">\n      <td>0</td> <td>0</td> <td>0</td> <td>#000000</td> <td style=\"background: #000000; width: 5em;\"></td>\n    </tr>\n    <tr class=\"odd\">\n      <td>255</td> <td>255</td> <td>255</td> <td>#FFFFFF</td> <td style=\"background: #FFFFFF; width: 5em;\"></td>\n    </tr>\n    <tr class=\"odd\">\n      <td>255</td> <td>0</td> <td>0</td> <td>#FF0000</td> <td style=\"background: #FF0000; width: 5em;\"></td>\n    </tr>\n    <tr class=\"odd\">\n      <td>0</td> <td>255</td> <td>255</td> <td>#00FFFF</td> <td style=\"background: #00FFFF; width: 5em;\"></td>\n    </tr>\n    <tr class=\"odd\">\n      <td>128</td> <td>128</td> <td>128</td> <td>#808080</td> <td style=\"background: #808080; width: 5em;\"></td>\n    </tr>\n    <tr class=\"odd\">\n      <td>0</td> <td>158</td> <td>115</td> <td>#009E73</td> <td style=\"background: #009E73; width: 5em;\"></td>\n    </tr>\n  </tbody>\n</table>\n:::\n::::\n\n## The RGB color space\n\n::: {.move-up-half-em}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![&nbsp;](color-spaces_files/figure-revealjs/rgb-viz-1.svg){width=100%}\n:::\n:::\n\n\n\n:::\n\n::: {.fragment .move-up-2em}\nMost people cannot reason well about the RGB color space\n:::\n\n## The HSV color space\n\n:::: {.columns .small-font}\n\n::: {.column width=\"50%\"}\nhue H (0-360):<br>&emsp;&emsp;hue of the color\n\nsaturation S (0-1):<br>&emsp;&emsp;colorfulness relative to the brightness<br>&emsp;&emsp;of the color\n\nvalue V (0-1):<br>&emsp;&emsp;subjective perception of amount<br>&emsp;&emsp;of light emitted\n:::\n\n::: {.column width=\"50%\" .move-up-1em}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![&nbsp;](color-spaces_files/figure-revealjs/hsv-viz-single-1.svg){width=100%}\n:::\n:::\n\n\n\n:::\n\n::::\n\n## The HSV color space\n\n::: {.move-up-half-em}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![&nbsp;](color-spaces_files/figure-revealjs/hsv-viz-1.svg){width=100%}\n:::\n:::\n\n\n\n:::\n\n::: {.fragment .move-up-2em}\nProblem: Color changes in non-intuitive ways with saturation and value\n:::\n\n\n## The HLS color space\n\n:::: {.columns .small-font}\n\n::: {.column width=\"50%\"}\nhue H (0-360):<br>&emsp;&emsp;hue of the color\n\nlightness L (0-1):<br>&emsp;&emsp;brightness relative to the brightness<br>&emsp;&emsp;of a similarly illuminated white\n\nsaturation S (0-1):<br>&emsp;&emsp;colorfulness relative to the brightness<br>&emsp;&emsp;of the color\n:::\n\n::: {.column width=\"50%\" .move-up-1em}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![&nbsp;](color-spaces_files/figure-revealjs/hls-viz-single-1.svg){width=100%}\n:::\n:::\n\n\n\n:::\n\n::::\n\n## The HLS color space\n\n::: {.move-up-half-em}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![&nbsp;](color-spaces_files/figure-revealjs/hls-viz-1.svg){width=100%}\n:::\n:::\n\n\n\n:::\n\n::: {.fragment .move-up-2em}\nProblem: For high saturation, perceived lightness changes with hue\n:::\n\n## The Luv color space\n\n:::: {.columns .small-font}\n\n::: {.column width=\"50%\"}\nluminance L (0-100):<br>&emsp;&emsp;amount of light emitted\n\ngreen/red axis u (approx. -100 to 100):<br>&emsp;&emsp;amount of green vs. red\n\nblue/yellow axis v (approx. -100 to 100):<br>&emsp;&emsp;amount of blue vs. yellow\n:::\n\n::: {.column width=\"50%\" .move-up-1em}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![&nbsp;](color-spaces_files/figure-revealjs/luv-viz-single-1.svg){width=100%}\n:::\n:::\n\n\n\n:::\n\n::::\n\n## The Luv space in polar coordinates: HCL\n\n:::: {.columns .small-font}\n\n::: {.column width=\"50%\"}\nhue H (0-360):<br>&emsp;&emsp;hue of the color\n\nluminance L (0-100):<br>&emsp;&emsp;amount of light emitted\n\nchroma C ():<br>&emsp;&emsp;colorfulness of the color\n:::\n\n::: {.column width=\"50%\" .move-up-1em}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![&nbsp;](color-spaces_files/figure-revealjs/hcl-viz-single-1.svg){width=100%}\n:::\n:::\n\n\n\n:::\n\n::::\n\n## The HCL color space: Hue-Chroma plane\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![&nbsp;](color-spaces_files/figure-revealjs/hcl-hue-chroma-plane-1.svg){width=100%}\n:::\n:::\n\n\n\n\n## The HCL color space: Luminance-Chroma plane\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![&nbsp;](color-spaces_files/figure-revealjs/hcl-chroma-luminance-plane-1.svg){width=100%}\n:::\n:::\n\n\n\n\n#\n\n<!-- Segment ends here -->\n\n# Explore HCL colors interactively\n\n## We can explore HCL colors from R\n\n```r\ncolorspace::choose_color()\n```\n\n![](../assets/color-spaces/choose_color1.png){.fragment .absolute  top=\"5%\" left=\"45%\" width=\"55%\" style=\"box-shadow: 3px 5px 3px 1px #00000080;\"}\n\n![](../assets/color-spaces/choose_color2.png){.fragment .absolute  top=\"20%\" left=\"0%\" width=\"55%\" style=\"box-shadow: 3px 5px 3px 1px #00000080;\"}\n\n![](../assets/color-spaces/choose_color3.png){.fragment .absolute  top=\"35%\" left=\"25%\" width=\"55%\" style=\"box-shadow: 3px 5px 3px 1px #00000080;\"}\n\n## We can explore HCL colors from R\n\nThe app is also available on the class website\n\n::: {.move-up-1em}\n![](../assets/color-spaces/class-website.png){fig-align=\"center\" width=\"65%\"}\n:::\n\n::: {.move-up-2em}\n<a href=\"https://wilkelab.org/DSC385/apps/bin/choose-color/\" target=\"_blank\">Open color chooser app</a>\n:::\n\n#\n\n<!-- Segment ends here -->\n\n# A few considerations when choosing colors\n\n## 1. Avoid high chroma\n\n:::: {.columns}\n\n::: {.fragment .column width=\"50%\"}\nHigh chroma: Toys\n\n![](../assets/color-spaces/toys-image.jpg){width=\"100%\" style=\"box-shadow: 3px 5px 3px 1px #00000080;\"}\n:::\n\n::: {.fragment .column width=\"50%\"}\nLow chroma: Elegance\n\n![](../assets/color-spaces/home-interior.jpg){width=\"90%\" style=\"box-shadow: 3px 5px 3px 1px #00000080;\"}\n:::\n\n::::\n\n::: {.notes}\n[Toys photo by Pixabay from Pexels](https://www.pexels.com/photo/super-mario-and-yoshi-plastic-figure-163077/)\n\n[Home interior photo by Saviesa Home from Pexels](https://www.pexels.com/photo/kitchen-island-2089698/)\n:::\n\n## 2. Be aware of color-vision deficiency\n\n::: {.fragment}\n5%–8% of men are color blind!\n:::\n\n::: {.fragment}\n![](https://clauswilke.com/dataviz/pitfalls_of_color_use_files/figure-html/red-green-cvd-sim-1.png){width=\"100%\"}\n\nRed-green color-vision deficiency is the most common\n:::\n\n## 2. Be aware of color-vision deficiency\n\n5%–8% of men are color blind!\n\n![](https://clauswilke.com/dataviz/pitfalls_of_color_use_files/figure-html/blue-green-cvd-sim-1.png){width=\"100%\"}\n\nBlue-green color-vision deficiency is rare but does occur\n\n## 2. Be aware of color-vision deficiency\n\nChoose colors that can be distinguished with CVD\n\n![](https://clauswilke.com/dataviz/pitfalls_of_color_use_files/figure-html/PiYG-cvd-sim-1.png){width=\"100%\"}\n\n## Consider using the Okabe-Ito scale\n\n![](https://clauswilke.com/dataviz/pitfalls_of_color_use_files/figure-html/palette-Okabe-Ito-1.png){width=\"100%}\n\n::: {.smaller-font }\nName           | Hex code &nbsp;&nbsp; | R, G, B (0-255)\n:----------    | :-------  | :--------\norange         | #E69F00   | 230, 159, 0\nsky blue\t     | #56B4E9   | 86, 180, 233\nbluish green   | #009E73   | 0, 158, 115\nyellow\t       | #F0E442   | 240, 228, 66\nblue\t         | #0072B2   | 0, 114, 178\nvermilion\t     | #D55E00   | 213, 94, 0\nreddish purple | #CC79A7   | 204, 121, 167\nblack\t         | #000000   | 0, 0, 0\n:::\n\n## CVD is worse for thin lines and tiny dots\n\n![](https://clauswilke.com/dataviz/pitfalls_of_color_use_files/figure-html/colors-thin-lines-1.png){width=\"65%\" fig-align=\"center\"}\n\n## When in doubt, run CVD simulations\n\n::: {.small-font}\nOriginal\n:::\n\n::: {.move-up-1em}\n![](https://clauswilke.com/dataviz/redundant_coding_files/figure-html/iris-scatter-three-shapes-1.png){width=\"50%\" style=\"box-shadow: 3px 5px 3px 1px #00000080; padding: 8px;\"}\n:::\n\n![](https://clauswilke.com/dataviz/redundant_coding_files/figure-html/iris-scatter-three-shapes-cvd-1.png){.fragment .absolute top=\"18%\" left=\"25%\" width=\"70%\" style=\"box-shadow: 3px 5px 3px 1px #00000080; padding: 16px 8px 8px 16px; background: white;\"}\n\n#\n\n<!-- Segment ends here -->\n\n## Further reading\n\n- Fundamentals of Data Visualization: [Chapter 19: Common pitfalls of color use](https://clauswilke.com/dataviz/color-pitfalls.html)\n- Wikipedia: [HSL and HSV](https://en.wikipedia.org/wiki/HSL_and_HSV)\n- **colorspace** package documentation: [Color Spaces](https://colorspace.r-forge.r-project.org/articles/color_spaces.html)\n- **colorspace** package documentation: [Apps for Choosing Colors and Palettes Interactively](https://colorspace.r-forge.r-project.org/articles/hclwizard.html)\n\n",
    "supporting": [
      "color-spaces_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}